# URL与资源

URL就是因特网资源的标准化名称。URL指向每一条电子信息，告诉你它们位于何处，以及如何与之进行交互。

## URL

URL分以下三个部分：

- URL第一部分(http)是URL方案(scheme)。方案可以告知WEB客户端怎样访问资源。在这个例子中，URL说明要使用HTTP协议。
- URL第二部分指的是服务器的位置。这部分告知WEB客户端资源位于何处。
- URL第三部分是资源路径。路径说明了请求的是服务器上哪个特定的本地资源。

### 常见的URL

<pre>
mailto:hehe@hehe.com
ftp://hehe.com/pub/hehe.txt
rtsp://www.hehe.com:554/hehe/hehe_video
</pre>

不公平就是超越，当遭遇不利的时候喊公平，当自己有利的时候喊超越，懂得不公平才是竞争的核心，强者永远不追求公平，他会掠夺，弱者喊公平。社交的最高境界就是分享，岂曰无衣，与子同袍；天天喊公平的人都是弱者，天天喊超越的人都是强者。这是眼界的问题，不是胸怀的问题。有则利他，兼济天下；没有就独善其身；小气的妈妈会导致孩子自闭。

### 参数

对很多方案来说 ，只有简单的主机名和到达对象的路径是不够的。除了服务器正在监听的端口，以及是否能够通过用户名和密码访问资源外，很多协议都还需要更多的信息才能工作。

负责解析URL的应用唾弃需要这些协议参数来访问资源。否则，另一端的服务器可能就不会为请求提供服务。为了向应用程序提供它们所需的输入参数，以便正确地与服务器进行交互，URL中有一个参数组件。这个组件就是URL中的名值对列表，由字条";"将其与URL的其余部分(以及各名值对)分隔开来。它们为应用程序提供了访问资源所需的所有附加信息。比如：

<pre>
ftp://prep.ai.mit.edu/pub.gnu;type=d
</pre>

另外在下面这个例子中，有两个路径段，hammers和index.html。hammers路径段有参数sale,其值为false。index.html段有参数graphics,其值为true。

<pre>
http://www.joes-hardware.com/hammers;sale=false/index.html;graphics=true
</pre>

### 查询字符串

很多资源，比如数据库服务，都是可以通过提问题或进行查询来缩小所请求资源类型范围的。如

<pre>
http://www.joes-hardware.com/inventory-check.cgi?item=12731&color=blue&size=large
</pre>

这个URL的大部分与我们见过的其他URL类似。只有问号右边的内容是新出现的。这部分被称为查询(query)组件。URL的查询组件和标识网关资源的URL路径组件一起被发送给网关资源。基本上可以将网关当作访问其他应用程序的访问点。键值对之间用字符"&"分隔；

### 片段

有些资源类型，比如HTML，除了资源之外，还可以做进一步的划分。比如，对一个带有章节的大型文本文档来说，资源的URL会指向整个文本文档，但理想的情况是，能够指定资源中的那些章节。

为了引用部分资源或资源的一个片段，URL支持使用片段(frag)组件来表示一个资源内部的片段。比如，URL可以指向HTML文档中一个特定的图片或小节。

片段挂在URL的右手边，最前面有一个字符“#"。比如

<pre>
http://www.joes-hardware.com/tools.html#drills
</pre>

HTTP服务器通常只处理整个对象，而不是对象的片段，客户端不能将片段传送给服务器。浏览器从服务器获得了整个资源之后，会根据片段来显示你感兴趣的那部分资源。

## URL快捷方式

很多浏览器还支持URL的“自动扩展”，也就是用户输入URL的一个关键部分，然后由浏览器将其余部分填充起来。

### 相对URL

### 自动扩展URL

有些浏览器会在用户提交URL之后，或者在用户输入的时候尝试着自动扩展URL，这就为用户提供了一条捷径。这些"自动扩展"特性有以下两种方式：

* 主机名扩展

> 在主机名扩展中，只要有些小提示，浏览器通常就可以在没有帮助的情况下，将你输入的主机名扩展为完整的主机名。比如，如果在地址栏中输入yahoo,浏览器就会自动在主机名中插入www.和.com，构建出www.yahoo.com。如果找不到yahoo匹配的站点，有些浏览器会在放弃之前尝试几种扩展方形式。浏览器通过这些简单的技巧来节省你的时间，减少找不到的可能。但是，这些主机名扩展技巧可能会为其他一些HTTP应用程序带来问题，比如代理。

* 历史扩展

> 浏览器用来节省用户输入URL时间的另一种技巧是，将以前用户访问过的URL历史存储起来。当你输入URL时，它们就可以将你输入的URL与历史刻录中的URL的前缀进行匹配，并提供一些完整的选项供你选择。

## 各种令人头疼的字符

URL是可移值的。它要统一地命名因特网上所有的资源。这就意味着要通过各种不同的协议来传送这些资源。这些协议在传输数据时都会使用不同的机制，所以，设计URL，使其可以通过任意因特网协议安全地传输是很重要的。

安全传输意味着URL的传输不能丢失信息。有些协议，比如传输电子邮件的简单邮件传输协议，所使用的传输方法就会剥去一些特定的字符。为了避开这些问题，URL只能使用一些相对较小的、通用的安全字母表中的字符。

除了希望URL可以被所有因特网协议进行传送之外，设计者传们还希望URL是可读的。因此，即使不可见、不可打印的字符能够穿过邮件程序，从而成为可移值的，也不能在URL中使用。

URL还得是完整的，这就使问题变得更加复杂了。URL的设计者们认识到有时人们可能会希望URL中包含除通用的安全字母表之外的二进制数据或字符。因此，需要有一种转义机制，能够将不安全的字符编码为安全字符，再进行传输。

## schema

常见schema方案格式有：http、https、mailto、ftp、rtsp、rtspu

schema | example
--- | ---
http | http://www.baidu.com
https | https://www.google.com
mailto | mailto:joe@joes-hardware.com
ftp | ftp://&lt;user>:&lt;password>@&lt;host>:&lt;port>/&lt;path>;<params>
rtsp,rtspu | rtsp://&lt;user>:&lt;password>@<&lt;host>:&lt;port>/&lt;path>
file | file://&lt;host>/&lt;path>
news | news:&lt;<\newsgroup>
telnet | telnet用于访问交互式业务。telnet://&lt;user>:&lt;password>@&lt;host>:&lt;port>/

